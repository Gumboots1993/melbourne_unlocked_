<div class="profile_banner">
        <br>
        <img src=<%= lock.image %>>
        <h1><%= lock.name %></h1>
</div>
<div data-controller="lock-show">
<div class="mini_banner locked" data-lat=<%= lock.latitude%> data-lng=<%=lock.longitude%>>
      <?xml version="1.0" encoding="UTF-8"?><svg id="Layer_2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 76.11 76.11"><defs><style>.cls-1,.cls-2{fill:#fff;}.cls-3{fill:#a7a9ac;}.cls-2{stroke:#9bc1be;stroke-miterlimit:10;stroke-width:6px;}.cls-4{fill:#808285;}.cls-5{fill:#d1d3d4;}.cls-6{fill:#231f20;}</style></defs><g id="Layer_1-2"><circle class="cls-2" cx="38.06" cy="38.06" r="35.06"/><g><path class="cls-4" d="M42.47,61.33c-2.81,.51-4.31,.43-7.41,0-3.85-.53-11.69-4.14-13.87-8.1l-1.61-17.7s.06-.04,.07-.15c.56-4.06,3.67-5.58,3.39-5.28-2.65,2.8-.22,4.7-.17,4.77,3.46,4.2,11.24,2.36,16.83-.57,5.68-2.97,15.06-6.93,18.25,.75,.01,.03,0,0,0,0l-1.61,18.19c-2.16,4.2-10.05,7.4-13.87,8.1Z"/><ellipse class="cls-6" cx="38.82" cy="47.49" rx="2.61" ry="2.65"/><polygon class="cls-6" points="37.16 49.34 40.15 49.34 41.11 54.93 36.32 54.93 37.16 49.34"/><path class="cls-3" d="M22.2,36.99c-1.48-1.14-2.25-2.2-1.73-4.01,.2-.7,.62-1.43,1.05-1.91,.62-.69,1.67-1.16,1.53-1-.71,.78-.81,1.07-1.01,1.46-.33,.69-.32,1.48-.02,2.05,2.38,4.47,11.74,4.51,17.84,.73,6.53-4.05,15.46-6.25,18.08,.75,.01,.03-.02,.14-.03,.17-.36,.47-.83,1.13-1.86,1.67-6.96,3.62-22.27,9-33.84,.11Z"/><path class="cls-5" d="M53.38,35.23h-1.89c-1.46-.42-1.31-1.86-1.31-3.16v-3.67c-.06-2.46-.44-3.62-1.27-3.7-1.5-.14-1.64,1.63-2.47,5.29-1.27,5.62-10,6.97-13.01,1.04l-.1-.18c-1.41-2.46-.25-5.74-2.68-5.53-1.66,.14-1.4,3.27-1.52,4.75-.01,.13-.02,.26-.02,.39l-.04,1.62c-.28,1.69,.14,2.96-2.1,2.89,0,0-.92-.38-1.23-.49-1.51-.5-1.91-1.55-1.91-2.41v-5.43c0-2.63-.18-6.02,1.45-7.64,2-2,5.69-2.46,8.19-1.37l.11,.05c.37,.16,.72,.38,1,.67,4.06,4.1,2.35,10.45,5.21,10.59s1.57-7.8,6.73-11.17h0c2.8-1.32,6.09-.62,8.13,1.9,1.28,1.58,.85,4.69,.85,6.98v6.23c0,1.3-.95,2.35-2.11,2.35Z"/><path class="cls-1" d="M28.98,24.65l.73-.21h-.01c-1.2,.71-1.43,.72-1.6,2.39v6.96c0,.06-.13,.06-.29,.04h0c-.3-.03-.52-.13-.52-.24v-7.14c0-.38,.14-.75,.4-1.12h0c.2-.28,.67-.52,1.28-.7Z"/><path class="cls-1" d="M44.43,20.33c-.1,.3-.63,1.37-1.05,3.24l-1.18,3.97c-.42,1.32-1.26,2.06-2.42,2.83h0c1.68-.14,3.08-1.31,3.49-2.91l.71-2.4c.32-2.05,0-3.7,.46-4.74Z"/><path class="cls-1" d="M53.1,18.92l.26,.37c.86,1.24,1.35,1.86,1.35,3.61v10.43h0c0,.39-.37,.94-.8,1.11v-9.32c0-4.01-.12-4.71-.73-5.92l-.07-.28Z"/></g></g></svg>
      <br>
      <p>You need to get a little closer to unlock this!</p> <%= link_to 'Show me the way', "https://www.google.com/maps/search/?api=1&query=<%=lock.latitude%>%2C<%=lock.latitude%>", :class => "btn btn-primary"%>
</div>

<div class="mini_banner locked-close">
      <?xml version="1.0" encoding="UTF-8"?><svg id="Layer_2" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 76.11 76.11"><defs><style>.cls-1,.cls-2{fill:#fff;}.cls-3{fill:#085b56;}.cls-4{fill:#9ac1be;}.cls-5{fill:#00a79d;}.cls-2{stroke:#00a79d;stroke-miterlimit:10;stroke-width:6px;}.cls-6{fill:#b6e1db;}</style></defs><g id="Layer_1-2"><circle class="cls-2" cx="38.06" cy="38.06" r="35.06"/><path class="cls-5" d="M42.47,61.33c-2.81,.51-4.31,.43-7.41,0-3.85-.53-11.69-4.14-13.87-8.1l-1.61-17.7s.06-.04,.07-.15c.56-4.06,3.67-5.58,3.39-5.28-2.65,2.8-.22,4.7-.17,4.77,3.46,4.2,11.24,2.36,16.83-.57,5.68-2.97,15.06-6.93,18.25,.75,.01,.03,0,0,0,0l-1.61,18.19c-2.16,4.2-10.05,7.4-13.87,8.1Z"/><ellipse class="cls-3" cx="38.82" cy="47.49" rx="2.61" ry="2.65"/><polygon class="cls-3" points="37.16 49.34 40.15 49.34 41.11 54.93 36.32 54.93 37.16 49.34"/><path class="cls-6" d="M22.2,36.99c-1.48-1.14-2.25-2.2-1.73-4.01,.2-.7,.62-1.43,1.05-1.91,.62-.69,1.67-1.16,1.53-1-.71,.78-.81,1.07-1.01,1.46-.33,.69-.32,1.48-.02,2.05,2.38,4.47,11.74,4.51,17.84,.73,6.53-4.05,15.46-6.25,18.08,.75,.01,.03-.02,.14-.03,.17-.36,.47-.83,1.13-1.86,1.67-6.96,3.62-22.27,9-33.84,.11Z"/><path class="cls-4" d="M53.38,35.23h-1.89c-1.46-.42-1.31-1.86-1.31-3.16v-3.67c-.06-2.46-.44-3.62-1.27-3.7-1.5-.14-1.64,1.63-2.47,5.29-1.27,5.62-10,6.97-13.01,1.04l-.1-.18c-1.41-2.46-.25-5.74-2.68-5.53-1.66,.14-1.4,3.27-1.52,4.75-.01,.13-.02,.26-.02,.39l-.04,1.62c-.28,1.69,.14,2.96-2.1,2.89,0,0-.92-.38-1.23-.49-1.51-.5-1.91-1.55-1.91-2.41v-5.43c0-2.63-.18-6.02,1.45-7.64,2-2,5.69-2.46,8.19-1.37l.11,.05c.37,.16,.72,.38,1,.67,4.06,4.1,2.35,10.45,5.21,10.59s1.57-7.8,6.73-11.17h0c2.8-1.32,6.09-.62,8.13,1.9,1.28,1.58,.85,4.69,.85,6.98v6.23c0,1.3-.95,2.35-2.11,2.35Z"/><path class="cls-1" d="M28.98,24.65l.73-.21h-.01c-1.2,.71-1.43,.72-1.6,2.39v6.96c0,.06-.13,.06-.29,.04h0c-.3-.03-.52-.13-.52-.24v-7.14c0-.38,.14-.75,.4-1.12h0c.2-.28,.67-.52,1.28-.7Z"/><path class="cls-1" d="M44.43,20.33c-.1,.3-.63,1.37-1.05,3.24l-1.18,3.97c-.42,1.32-1.26,2.06-2.42,2.83h0c1.68-.14,3.08-1.31,3.49-2.91l.71-2.4c.32-2.05,0-3.7,.46-4.74Z"/><path class="cls-1" d="M53.1,18.92l.26,.37c.86,1.24,1.35,1.86,1.35,3.61v10.43h0c0,.39-.37,.94-.8,1.11v-9.32c0-4.01-.12-4.71-.73-5.92l-.07-.28Z"/></g></svg>
      <br>
      <p>discover the secrets of <%= lock.name %>...</p>
      <div class="blob"><%= link_to 'Unlock', "#", :class => "btn btn-primary"%> </div>
</div>

<div class="mini_banner unlocked" data-unlocked=<%= Visit.where(user_id: current_user, lock_id: lock.id).exists?%> >
<?xml version="1.0" encoding="UTF-8"?><svg id="Layer_2" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 76.11 76.11"><defs><style>.cls-1,.cls-2{fill:#fff;}.cls-3{fill:#085b56;}.cls-4{fill:url(#Orange__Yellow-2);}.cls-5{fill:#d4e7e5;}.cls-6{fill:#00a79d;}.cls-7{fill:url(#linear-gradient);}.cls-2{stroke:url(#Orange__Yellow);stroke-miterlimit:10;stroke-width:6px;}</style><linearGradient id="Orange__Yellow" x1="0" y1="38.06" x2="76.11" y2="38.06" gradientTransform="matrix(1, 0, 0, 1, 0, 0)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#fff33b"/><stop offset=".04" stop-color="#fee62d"/><stop offset=".12" stop-color="#fdd51b"/><stop offset=".2" stop-color="#fdca0f"/><stop offset=".28" stop-color="#fdc70c"/><stop offset=".67" stop-color="#f3903f"/><stop offset=".89" stop-color="#ed683c"/><stop offset="1" stop-color="#e93e3a"/></linearGradient><linearGradient id="Orange__Yellow-2" x1="18.64" y1="50.8" x2="56.77" y2="50.8" xlink:href="#Orange__Yellow"/><linearGradient id="linear-gradient" x1="38.07" y1="35.06" x2="38.07" y2="46.78" gradientTransform="matrix(1, 0, 0, 1, 0, 0)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#fff33b"/><stop offset=".04" stop-color="#fee62d"/><stop offset=".12" stop-color="#fdd51b"/><stop offset=".2" stop-color="#fdca0f"/><stop offset=".28" stop-color="#fdc70c"/><stop offset=".67" stop-color="#f3903f"/><stop offset=".84" stop-color="#ed683c"/><stop offset=".96" stop-color="#c54c29"/></linearGradient></defs><g id="Layer_1-2"><circle class="cls-2" cx="38.06" cy="38.06" r="35.06"/><path class="cls-4" d="M41.39,66.16c-2.8,.51-4.28,.43-7.37,0-3.83-.53-11.61-4.12-13.78-8.05l-1.6-17.59s.06-.04,.07-.15c.56-4.03,3.64-5.54,3.37-5.25-2.63,2.78-.22,4.67-.16,4.74,3.44,4.17,11.17,2.34,16.73-.57s14.96-6.88,18.13,.74c.01,.03,0,0,0,0l-1.6,18.08c-2.15,4.18-9.98,7.36-13.78,8.05Z"/><ellipse class="cls-3" cx="37.77" cy="52.4" rx="2.59" ry="2.63"/><polygon class="cls-3" points="36.11 54.24 39.09 54.24 40.04 59.8 35.28 59.8 36.11 54.24"/><path class="cls-7" d="M21.25,41.97c-1.47-1.13-2.24-2.19-1.71-3.99,.2-.7,.61-1.42,1.04-1.89,.62-.69,1.66-1.15,1.52-1-.71,.77-.81,1.06-1,1.45-.33,.68-.32,1.47-.02,2.03,2.36,4.44,11.67,4.48,17.72,.72,6.49-4.03,15.36-6.21,17.97,.74,.01,.03-.02,.14-.03,.16-.36,.46-.83,1.13-1.85,1.66-6.92,3.59-22.13,8.94-33.63,.11Z"/><path class="cls-6" d="M52.24,30.15h-1.88c-1.45-.41-1.3-1.85-1.3-3.14v-3.64c-.06-2.45-.44-3.6-1.26-3.67-1.49-.14-1.63,1.62-2.45,5.25-1.26,5.58-9.93,6.92-12.93,1.04l-.1-.18c-1.4-2.45-.25-5.7-2.66-5.49-1.65,.14-1.39,3.25-1.51,4.72,0,.13-.02,.26-.02,.39l-.04,11.41c-.28,1.68,.14,2.94-2.08,2.88,0,0-.91-.38-1.22-.48-1.51-.5-1.9-1.54-1.9-2.4v-15.19c0-2.61-.18-5.98,1.44-7.6,1.99-1.98,5.65-2.44,8.13-1.36l.11,.05c.36,.16,.71,.38,1,.66,4.04,4.08,2.33,10.39,5.18,10.52,2.83,.14,1.56-7.75,6.69-11.1h0c2.78-1.31,6.05-.61,8.08,1.88,1.27,1.57,.84,4.66,.84,6.93v6.19c0,1.29-.94,2.34-2.1,2.34Z"/><path class="cls-1" d="M27.99,18.93l.73-.43v.02c-1.2,1.45-1.44,1.47-1.61,4.92v14.38c0,.12-.13,.13-.28,.09h0c-.3-.05-.51-.26-.51-.5v-14.74c0-.78,.13-1.56,.4-2.31h0c.2-.58,.66-1.08,1.27-1.44Z"/><path class="cls-1" d="M52.18,13.97l.26,.37c.86,1.23,1.34,1.85,1.34,3.59v10.36h0c0,.39-.36,.93-.8,1.1v-9.26c0-3.98-.12-4.68-.73-5.89l-.07-.28Z"/><path class="cls-5" d="M43.34,15.34c-.1,.3-.62,1.36-1.05,3.22l-1.17,3.95c-.41,1.31-1.25,2.05-2.41,2.81h0c1.67-.14,3.06-1.3,3.47-2.89l.7-2.38c.32-2.04,0-3.68,.46-4.71Z"/><ellipse class="cls-3" cx="50.09" cy="38.9" rx="3.04" ry=".97"/></g></svg>
        <br>
  <p><strong>Unlocked:</strong>
        <% if Visit.where(user_id: current_user, lock_id: lock.id).exists? %>
          <% visit = Visit.where(user_id: current_user, lock_id: lock.id).first %>
          <%= visit.unlocked_date %>
        <% end %>
</div>
</div>
